
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>What Is a Message-Driven Bean?</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/style.css" rel="stylesheet">
    <script src="https://use.fontawesome.com/96c4d89611.js"></script>
  </head>
  <body>
<table id="doc-title" cellspacing="0" cellpadding="0">
  <tr>
  <td align="left" valign="top">
  <b>What Is a Message-Driven Bean?</b><br />
      <p class="beta">DRAFT</p>
  </td>
  </tr>
</table>
<hr />

<table width="90%" id="top-nav" cellspacing="0" cellpadding="0">
	<colgroup>
		<col width="12%"/>
		<col width="12%"/>
		<col width="*"/>
	</colgroup>
	<tr>
		<td align="left">
		<a href="ejb-intro002.html">
			<span class="vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Previous</span>
		</a>
		</td>

		<td align="left">
		<a href="ejb-intro004.html">
			<span class=" vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Next</span>
		</a>
		</td>

		<td align="right">
		<a href="toc.html">
			<span class=" vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Contents</span>
		</a>
		</td>
	</tr>
</table>


<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><a id="GIPKO"></a><a id="what-is-a-message-driven-bean"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_is_a_message_driven_bean">What Is a Message-Driven Bean?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A message-driven bean is an enterprise bean that allows Jakarta EE
applications to process messages asynchronously. This type of bean
normally acts as a Jakarta Messaging message listener, which is similar to an event
listener but receives Jakarta Messaging messages instead of events. The messages can
be sent by any Jakarta EE component (an application client, another
enterprise bean, or a web component) or by a Jakarta Messaging application or system
that does not use Jakarta EE technology. Message-driven beans can process
Jakarta Messaging messages or other kinds of messages.</p>
</div>
<div class="paragraph">
<p>The following topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#GIPMJ">What Makes Message-Driven Beans Different from Session
Beans?</a></p>
</li>
<li>
<p><a href="#GIPJX">When to Use Message-Driven Beans</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="GIPMJ"></a><a id="what-makes-message-driven-beans-different-from-session-beans"></a></p>
</div>
<div class="sect2">
<h3 id="_what_makes_message_driven_beans_different_from_session_beans">What Makes Message-Driven Beans Different from Session Beans?</h3>
<div class="paragraph">
<p>The most visible difference between message-driven beans and session
beans is that clients do not access message-driven beans through
interfaces. Interfaces are described in the section
<a href="ejb-intro004.html#GIPJF">Accessing Enterprise Beans</a>. Unlike a
session bean, a message-driven bean has only a bean class.</p>
</div>
<div class="paragraph">
<p>In several respects, a message-driven bean resembles a stateless session
bean.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A message-driven bean&#8217;s instances retain no data or conversational
state for a specific client.</p>
</li>
<li>
<p>All instances of a message-driven bean are equivalent, allowing the
Enterprise Bean container to assign a message to any message-driven bean instance.
The container can pool these instances to allow streams of messages to
be processed concurrently.</p>
</li>
<li>
<p>A single message-driven bean can process messages from multiple
clients.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The instance variables of the message-driven bean instance can contain
some state across the handling of client messages, such as a Jakarta Messaging
connection, an open database connection, or an object reference to an
enterprise bean object.</p>
</div>
<div class="paragraph">
<p>Client components do not locate message-driven beans and invoke methods
directly on them. Instead, a client accesses a message-driven bean
through, for example, Jakarta Messaging by sending messages to the message destination
for which the message-driven bean class is the <code>MessageListener</code>. You
assign a message-driven bean&#8217;s destination during deployment by using
GlassFish Server resources.</p>
</div>
<div class="paragraph">
<p>Message-driven beans have the following characteristics.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>They execute upon receipt of a single client message.</p>
</li>
<li>
<p>They are invoked asynchronously.</p>
</li>
<li>
<p>They are relatively short-lived.</p>
</li>
<li>
<p>They do not represent directly shared data in the database, but they
can access and update this data.</p>
</li>
<li>
<p>They can be transaction-aware.</p>
</li>
<li>
<p>They are stateless.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When a message arrives, the container calls the message-driven bean&#8217;s
<code>onMessage</code> method to process the message. The <code>onMessage</code> method
normally casts the message to one of the five Jakarta Messaging message types and
handles it in accordance with the application&#8217;s business logic. The
<code>onMessage</code> method can call helper methods or can invoke a session bean
to process the information in the message or to store it in a database.</p>
</div>
<div class="paragraph">
<p>A message can be delivered to a message-driven bean within a transaction
context, so all operations within the <code>onMessage</code> method are part of a
single transaction. If message processing is rolled back, the message
will be redelivered. For more information, see
<a href="jms-examples007.html#BNBPK">Receiving Messages Asynchronously Using a
Message-Driven Bean</a> and <a href="transactions.html#BNCIH">Chapter 54,
"Transactions"</a>.</p>
</div>
<div class="paragraph">
<p><a id="GIPJX"></a><a id="when-to-use-message-driven-beans"></a></p>
</div>
</div>
<div class="sect2">
<h3 id="_when_to_use_message_driven_beans">When to Use Message-Driven Beans</h3>
<div class="paragraph">
<p>Session beans allow you to send Jakarta Messaging messages and to receive them
synchronously but not asynchronously. To avoid tying up server
resources, do not to use blocking synchronous receives in a server-side
component; in general, Jakarta Messaging messages should not be sent or received
synchronously. To receive messages asynchronously, use a message-driven
bean.</p>
</div>
</div>
</div>
</div>

<hr />

<table width="90%" id="bottom-nav" cellspacing="0" cellpadding="0">
	<colgroup>
		<col width="12%"/>
		<col width="12%"/>
		<col width="*"/>
	</colgroup>
	<tr>		
		<td align="left">
		<a href="ejb-intro002.html">
			<span class=" vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Previous</span>
		</a>
		</td>

		<td align="left">
		<a href="ejb-intro004.html">
			<span class="vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Next</span>
		</a>
		</td>

		<td align="right">
		<a href="toc.html">
			<span class="vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Contents</span>
		</a>
		</td>
	</tr>
</table>

<span id="copyright">
        <img src="img/eclipse_foundation_logo_tiny.png" height="20px" alt="Eclipse Foundation Logo" align="top"/>&nbsp;            
        <span >Copyright&nbsp;&copy;&nbsp;2019,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.</span>
</span>

<p align="center" class="beta">DRAFT</p>

</body>
</html>