The identity store is installed and used by the security system just by the virtue of being there; it picks up all enabled CDI beans that implement https://jakarta.ee/specifications/security/3.0/apidocs/jakarta.security/jakarta/security/enterprise/identitystore/identitystore[IdentityStore,role=external,window=_blank]. Such beans can be enabled by the security system itself (following some configuration annotation), or can be programmatically added using the appropriate CDI APIs. Where the bean comes from doesn't matter for Jakarta Security, only the fact that it's there.